<?xml version="1.0" encoding="UTF-8"?>
<project name="Gutil" basedir=".">
    <property file="build.properties"/>
    <tstamp>
        <format property="TODAY"
                pattern="yyyy-MM-dd hh:mm:ss"
                locale="zh,CN"/>
    </tstamp>
    <target name="test">
        <echo>
            ${mxmlc.dir}
        </echo>
    </target>
    <target name="clean" description="Remove folders generated by the build.">
        <echo>[clean] Removing generated folders.</echo>
        <delete dir="${dist.dir}" quiet="true" includeEmptyDirs="true"/>
    </target>



    <target name="Pak_txt" description="">
        <echo>[MainFile] Pull the code firstly plz</echo>
        <echo>[MainFile] Building main swf</echo>
        <echo>[MainFile] Using Flex SDK at: ${mxmlc.dir}</echo>
        <echo>[MainFile] Using Flex SDK at: ${src.dir}</echo>
        <mkdir dir="${output.dir}"/>

        <java jar="${mxmlc.dir}/lib/mxmlc.jar" dir="${mxmlc.dir}/frameworks" fork="true" maxmemory="512m"
              failonerror="true">

            <arg value="${src.dir}/com/plugin/richTxt/RichTextField.as"/>
            <arg value="-incremental=false"/>
            <arg value="-source-path+=${src.dir}"/>
            <arg value="-output=${dist.dir}/chat.swf"/>
            <arg value="-target-player=11"/>
            <arg value="-default-size=1000,800"/>
            <arg value="-default-background-color=0x000000"/>
            <arg value="-static-link-runtime-shared-libraries=true"/>
            <arg value="-library-path+=${libs.dir}"/>
            <arg value="-define+=CONFIG::DEBUG,false"/>
            <arg value="-define+=CONFIG::LOCALE,false"/>
            <arg value="-define+=CONFIG::BETA,false"/>
            <arg line="-optimize"/>
            <arg line="-debug=false"/>

        </java>
        <copy todir="${bin.dir}" file="${dist.dir}/chat.swf"/>
    </target>
    <target name="Compc Demo">
        <java jar="${mxmlc.dir}/lib/compc.jar" dir="${mxmlc.dir}/frameworks" fork="true" maxmemory="512m"
              failonerror="true">
            <!--<arg value="-external-library-path+=${libs.dir}/as3-signals-v0.9-BETA.swc"/>-->
        </java>
    </target>
    <target name="Compc Gutil">
        <java jar="${mxmlc.dir}/lib/compc.jar" dir="${mxmlc.dir}/frameworks" fork="true" maxmemory="512m"
              failonerror="true">
            <arg value="-source-path+=${src.dir}"/>
            <arg value="-library-path+=${libs.dir}"/>
            <arg value="-include-sources+=${src.dir}"/>
            <!--<arg value="-external-library-path+=${libs.dir}/as3-signals-v0.9-BETA.swc"/>-->
        </java>
    </target>

</project>